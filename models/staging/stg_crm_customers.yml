version: 2

models:
  - name: stg_crm_customers
    description: Provides a standardized and cleaned view of the raw CRM customers data. Performs basic transformations like renaming, casting, and applying source-specific logic before downstream use in dimension/fact models.
    columns:
      - name: customer_id
        description: Unique identifier for the customer.
        tests:
          - not_null
          - unique
      - name: first_name
        description: Customer's first name.
        tests:
          - not_null
      - name: last_name
        description: Customer's last name.
        tests:
          - not_null
      - name: email
        description: Customer's email address.
        tests:
          - not_null
          - unique
          # Consider adding email format validation if needed
      - name: customer_segment
        description: Segment the customer belongs to.
      - name: customer_tier
        description: Tier the customer belongs to.
      - name: status
        description: Current status of the customer record (e.g., Active, Inactive).
        tests:
          - not_null
          # Consider adding accepted_values test if known statuses exist
      - name: created_at
        description: Timestamp when the customer record was created in the source.
        tests:
          - not_null
      - name: updated_at
        description: Timestamp when the customer record was last updated in the source.
        tests:
          - not_null